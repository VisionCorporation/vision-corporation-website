<section
    class="relative py-[70px] sm:py-[115px] bg-[url('/assets/images/testimonials-bg.webp')] bg-cover bg-center bg-no-repeat">
    <div class="absolute inset-0 bg-gradient-to-bl from-[#2559EB]/100 to-[#8A38F5]/90 pointer-events-none"></div>
    <div class="relative z-10 px-4 ">
        <div class="text-center mb-[78px]">
            <h2 class="text-3xl sm:text-[40px] leading-12 text-white mb-2" data-aos="fade-up" data-aos-delay="50">What
                Our Clients Say</h2>
            <p class="text-lg sm:text-xl text-white leading-6 sm:leading-8" data-aos="fade-up" data-aos-delay="60">Real
                results from real businesses who
                trusted us with their growth.
            </p>
        </div>

        <div class="max-w-[1400px] mx-auto px-1 md:px-12 lg:px-20 flex gap-5 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-[50px]
         overflow-x-auto md:overflow-visible hide-scrollbar snap-x snap-mandatory scroll-smooth">
            @for (testimonial of testimonials; track $index) {
            <div class="p-5 border border-[#D1D1D1] rounded w-[85%] flex-shrink-0
             flex flex-col gap-y-6 snap-start md:w-full md:max-w-[426px]" data-aos="fade-up"
                [attr.data-aos-delay]="$index * 150">
                <div class="flex items-center gap-3">
                    <div class="relative w-[40px] h-[40px] rounded-full overflow-hidden border border-[#D1D1D1]">
                        @if(testimonial.hasImage){
                        <img [ngSrc]="testimonial.userImage" [alt]="testimonial.userName" fill priority
                            class="object-cover object-top" />
                        }
                        @else {
                        <h3 class="flex items-center justify-center h-full bg-white text-[#2559EB]">{{ getInitials(testimonial.userName)
                            }}</h3>
                        }
                    </div>

                    <h3 class="text-white leading-6">{{ testimonial.userName }}</h3>
                </div>

                <p class="text-white leading-6">
                    "{{ testimonial.message }}"
                </p>

                <div class="flex items-center gap-2 leading-6 text-white">
                    <svg width="136" height="24" viewBox="0 0 136 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12 0L14.6942 8.2918H23.4127L16.3593 13.4164L19.0534 21.7082L12 16.5836L4.94658 21.7082L7.64074 13.4164L0.587322 8.2918H9.30583L12 0Z"
                            [attr.fill]="(5 - $index) >= 1 ? '#FFFF00' : '#E5E7EB'" />
                        <path
                            d="M40 0L42.6942 8.2918H51.4127L44.3593 13.4164L47.0534 21.7082L40 16.5836L32.9466 21.7082L35.6407 13.4164L28.5873 8.2918H37.3058L40 0Z"
                            [attr.fill]="(5 - $index) >= 2 ? '#FFFF00' : '#E5E7EB'" />
                        <path
                            d="M68 0L70.6942 8.2918H79.4127L72.3593 13.4164L75.0534 21.7082L68 16.5836L60.9466 21.7082L63.6407 13.4164L56.5873 8.2918H65.3058L68 0Z"
                            [attr.fill]="(5 - $index) >= 3 ? '#FFFF00' : '#E5E7EB'" />
                        <path
                            d="M96 0L98.6942 8.2918H107.413L100.359 13.4164L103.053 21.7082L96 16.5836L88.9466 21.7082L91.6407 13.4164L84.5873 8.2918H93.3058L96 0Z"
                            [attr.fill]="(5 - $index) >= 4 ? '#FFFF00' : '#E5E7EB'" />
                        <path
                            d="M124 0L126.694 8.2918H135.413L128.359 13.4164L131.053 21.7082L124 16.5836L116.947 21.7082L119.641 13.4164L112.587 8.2918H121.306L124 0Z"
                            [attr.fill]="(5 - $index) >= 5 ? '#FFFF00' : '#E5E7EB'" />
                    </svg>

                    <p>{{ (5 - $index) + '.0' }}</p>
                </div>
            </div>
            }
        </div>

    </div>
</section>